<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP Lookup</title>
    <style>
        body {
            font-family: monospace;
            background-color: #000000;
            color: #00ff00;
            padding: 10px;
        }

        h1 {
            font-size: 3.5em;
            text-align: center;
        }

        #result {
            max-width: 600px;
            margin: 0 auto;
        }

        #ipAddress {
            font-size: 3em;
            text-align: center;
            margin-bottom: 20px;
        }

        ul {
            list-style: none;
            padding: 0;
        }

        li {
            margin-bottom: 10px;
        }

        strong {
            display: inline-block;
            width: 120px;
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 20px;
            }

            #ipAddress {
                font-size: 14px;
            }

            strong {
                width: 100px;
            }
        }
    </style>
</head>
<body>
    <div id="result">
        <pre id="ipAddress"></pre>
        <ul>
            <li><strong>Country:</strong> <span id="country"></span></li>
            <li><strong>Country Code:</strong> <span id="countryCode"></span></li>
            <li><strong>Currency:</strong> <span id="currency"></span></li>
            <li><strong>City:</strong> <span id="city"></span></li>
            <li><strong>Region:</strong> <span id="region"></span></li>
            <li><strong>Region Name:</strong> <span id="regionName"></span></li>
            <li><strong>Latitude:</strong> <span id="latitude"></span></li>
            <li><strong>Longitude:</strong> <span id="longitude"></span></li>
            <li><strong>Timezone:</strong> <span id="timezone"></span></li>
            <li><strong>ZIP Code:</strong> <span id="zip"></span></li>
            <li><strong>ISP:</strong> <span id="isp"></span></li>
            <li><strong>Organization:</strong> <span id="org"></span></li>
            <li><strong>AS Number:</strong> <span id="asNumber"></span></li>
            <li><strong>AS Name:</strong> <span id="asName"></span></li>
            <li><strong>DNS IP:</strong> <span id="dnsIp"></span></li>
            <li><strong>DNS Geo:</strong> <span id="dnsGeo"></span></li>
            <li id="ednsInfo" style="display: none;"><strong>EDNS IP:</strong> <span id="ednsIp"></span></li>
            <li id="ednsInfo" style="display: none;"><strong>EDNS Geo:</strong> <span id="ednsGeo"></span></li>
            <li><strong>IP Reputation:</strong> <span id="sus"></span></li>
          <li><strong>User Agent:</strong> <span id="ua"></span></li>
          <br>
          <li><strong>About:</strong> <span>This service provides insights into the geographic and network details of your current IP address. The site uses IP-API.com and ipapi.co for IP lookup services.</span></li>
        </ul>
    </div>

    <!-- Existing JavaScript code -->
    <script>
        // JavaScript code to fetch and display geolocation information
        document.addEventListener('DOMContentLoaded', function () {
            // Make a GET request to the IPAPI endpoint to fetch data
            fetch('https://ipapi.co/json/')
                .then(response => response.json())
                .then(data => {
                    // Update the HTML elements with the data received from the API
                    document.getElementById('ipAddress').textContent = data.ip;
                    document.getElementById('country').textContent = data.country_name;
                    document.getElementById('countryCode').textContent = data.country;
                    document.getElementById('currency').textContent = data.currency;
                    document.getElementById('city').textContent = data.city;
                    document.getElementById('region').textContent = data.region;
                    document.getElementById('regionName').textContent = data.region_code;
                    document.getElementById('latitude').textContent = data.latitude;
                    document.getElementById('longitude').textContent = data.longitude;
                    document.getElementById('timezone').textContent = data.timezone;
                    document.getElementById('zip').textContent = data.postal;
                    document.getElementById('isp').textContent = data.org;
                    document.getElementById('org').textContent = data.org;
                    document.getElementById('asNumber').textContent = data.asn;
                    document.getElementById('asName').textContent = data.org;

document.getElementById('ua').textContent = navigator.userAgent;

                    // Check if the user's IP address is in the list
                    checkUserIPInList(data.ip);
                })
                .catch(error => {
                    console.error(error);
                    document.getElementById('result').innerHTML = "Error occurred while fetching data.";
                });
        });

        document.addEventListener('DOMContentLoaded', function () {
            // Make a GET request to the EDNS API
            fetch('https://edns.ip-api.com/json')
                .then(response => response.json())
                .then(data => {
                    // Check if both "dns" and "edns" objects exist in the response
                    if (data.hasOwnProperty('dns')) {
                        // Display the DNS information
                        document.getElementById('dnsIp').textContent = data.dns.ip;
                        document.getElementById('dnsGeo').textContent = data.dns.geo;
                    } else {
                        // Handle the case where "dns" is missing in the response
                        document.getElementById('dnsIp').textContent = "N/A";
                        document.getElementById('dnsGeo').textContent = "N/A";
                    }

                    // Check if "edns" object exists in the response
                    if (data.hasOwnProperty('edns')) {
                        // Display the EDNS information and show the EDNS section
                        document.getElementById('ednsIp').textContent = data.edns.ip;
                        document.getElementById('ednsGeo').textContent = data.edns.geo;
                        document.getElementById('ednsInfo').style.display = 'block';
                    }
                })
                .catch(error => {
                    console.error(error);
                    // Handle errors while fetching data
                    document.getElementById('ednsInfo').innerHTML = "Error occurred while fetching EDNS data.";
                });
        });

        // Function to fetch the IP address list from the remote source
        async function fetchIPList() {
            try {
                const response = await fetch('https://raw.githubusercontent.com/stamparm/ipsum/master/ipsum.txt');
                const text = await response.text();
                const ipList = text.split(/\s+/).filter(str => /^\d+\.\d+\.\d+\.\d+$/.test(str));
                return ipList;
            } catch (error) {
                console.error('Error fetching IP list:', error);
                return [];
            }
        }

        // Function to check if the user's IP address is in the list
        async function checkUserIPInList(userIP) {
            const ipList = await fetchIPList();

            if (ipList.includes(userIP)) {
                document.getElementById("sus").textContent = "Suspicious";
            } else {
                document.getElementById("sus").textContent = "Safe";
            }
        }
    </script>
</body>
</html>